<Window x:Class="BatchProcessor.RelationsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Create Relations for Entities" Height="700" Width="900"
        MinHeight="600" MinWidth="700"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResize">
    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
        <Grid Margin="15">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header with Back Button -->
            <Border Grid.Row="0" Background="#E67E22" Padding="15" Margin="0,0,0,15" CornerRadius="5">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- Back Button -->
                    <Button Grid.Column="0" x:Name="BtnBack" Content="â¬…" Width="40" Height="40" FontSize="20" 
                            Background="Transparent" Foreground="White" BorderThickness="0" 
                            Click="BtnBack_Click" Cursor="Hand" Margin="0,0,10,0"
                            ToolTip="Back to Mode Selection">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Setter Property="Background" Value="Transparent"/>
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#D35400"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                    
                    <!-- Title -->
                    <StackPanel Grid.Column="1">
                        <TextBlock Text="ðŸ”— Create Relations for Entities" FontSize="22" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center"/>
                        <TextBlock Text="Process drawings using AutoCAD GUI with UIPlugin DLL" FontSize="12" Foreground="#ECF0F1" HorizontalAlignment="Center" Margin="0,5,0,0"/>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Configuration Section -->
            <GroupBox Grid.Row="1" Header="âš™ï¸ Configuration" Margin="0,0,0,10" Padding="10">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="140"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="100"/>
                    </Grid.ColumnDefinitions>

                    <!-- UIPlugin DLL -->
                    <TextBlock Grid.Row="0" Grid.Column="0" Text="UIPlugin DLL:" VerticalAlignment="Center" Margin="0,5,0,5"/>
                    <TextBox Grid.Row="0" Grid.Column="1" x:Name="TxtUIPluginDll" Margin="5" Padding="5" VerticalAlignment="Center"/>
                    <Button Grid.Row="0" Grid.Column="2" Content="Browse..." Margin="5" Padding="5" Click="BtnBrowseUIPlugin_Click"/>

                    <!-- AutoCAD EXE Path -->
                    <TextBlock Grid.Row="1" Grid.Column="0" Text="AutoCAD EXE:" VerticalAlignment="Center" Margin="0,5,0,5"/>
                    <TextBox Grid.Row="1" Grid.Column="1" x:Name="TxtAutoCADExe" Margin="5" Padding="5" VerticalAlignment="Center"/>
                    <Button Grid.Row="1" Grid.Column="2" Content="Browse..." Margin="5" Padding="5" Click="BtnBrowseAutoCAD_Click"/>

                    <!-- Input Folder -->
                    <TextBlock Grid.Row="2" Grid.Column="0" Text="Input Folder:" VerticalAlignment="Center" Margin="0,5,0,5"/>
                    <TextBox Grid.Row="2" Grid.Column="1" x:Name="TxtInputFolder" Margin="5" Padding="5" VerticalAlignment="Center"/>
                    <Button Grid.Row="2" Grid.Column="2" Content="Browse..." Margin="5" Padding="5" Click="BtnBrowseInput_Click"/>
                </Grid>
            </GroupBox>

            <!-- Action Buttons -->
            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,10">
                <Button x:Name="BtnStartProcessing" Content="â–¶ Start Processing" Width="200" Height="40" FontSize="16" FontWeight="Bold" 
                        Background="#27AE60" Foreground="White" Click="BtnStartProcessing_Click" Margin="5"/>
                <Button x:Name="BtnStopProcessing" Content="â¹ Stop Processing" Width="200" Height="40" FontSize="16" FontWeight="Bold" 
                        Background="#E74C3C" Foreground="White" Click="BtnStopProcessing_Click" Margin="5" Visibility="Collapsed"/>
            </StackPanel>

            <!-- Progress Section -->
            <GroupBox Grid.Row="3" Header="ðŸ“Š Progress" Margin="0,0,0,10" Padding="10">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Current File -->
                    <TextBlock Grid.Row="0" Grid.Column="0" x:Name="TxtCurrentFile" Text="Ready to process..." 
                               FontSize="12" FontWeight="SemiBold" Margin="5" VerticalAlignment="Center"/>
                    <TextBlock Grid.Row="0" Grid.Column="1" x:Name="TxtProgress" Text="0/0" 
                               FontSize="12" FontWeight="Bold" Margin="5" VerticalAlignment="Center"/>

                    <!-- Progress Bar -->
                    <ProgressBar Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" x:Name="ProgressBar" 
                                 Height="20" Margin="5" Minimum="0" Maximum="100" Value="0"/>

                    <!-- Status -->
                    <TextBlock Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" x:Name="TxtStatus" Text="Waiting to start..." 
                               FontSize="11" Foreground="#7F8C8D" Margin="5" VerticalAlignment="Center"/>
                </Grid>
            </GroupBox>

            <!-- Log Output -->
            <GroupBox Grid.Row="4" Header="ðŸ“ Log Output" Margin="0,0,0,10" Padding="5">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <TextBox x:Name="TxtLog" IsReadOnly="True" TextWrapping="Wrap" 
                             VerticalScrollBarVisibility="Auto" Background="#F8F9FA" 
                             FontFamily="Consolas" FontSize="11" BorderThickness="0"/>
                </ScrollViewer>
            </GroupBox>

            <!-- Footer -->
            <Border Grid.Row="5" Background="#ECF0F1" Padding="10" CornerRadius="5">
                <TextBlock Text="ðŸ’¡ Tip: Settings are automatically saved and restored next time" 
                           TextWrapping="Wrap" Foreground="#7F8C8D" FontSize="11" HorizontalAlignment="Center"/>
            </Border>
        </Grid>
    </ScrollViewer>
</Window>






